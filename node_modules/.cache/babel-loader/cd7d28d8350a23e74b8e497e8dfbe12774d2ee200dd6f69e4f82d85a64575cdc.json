{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getPosts,supportPost,notSupportPost}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PostList=()=>{const[posts,setPosts]=useState([]);useEffect(()=>{const fetchPosts=async()=>{try{const response=await getPosts();setPosts(response.data);}catch(error){console.error('Error fetching posts:',error);}};fetchPosts();},[]);const handleSupport=async id=>{try{await supportPost(id);setPosts(posts.map(post=>post._id===id?{...post,supports:post.supports+1}:post));}catch(error){console.error('Error supporting post:',error);}};const handleNotSupport=async id=>{try{await notSupportPost(id);setPosts(posts.map(post=>post._id===id?{...post,supports:post.supports-1}:post));}catch(error){console.error('Error not supporting post:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Posts\"}),/*#__PURE__*/_jsx(\"ul\",{children:posts.map(post=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:post.name||'Anonymous'}),/*#__PURE__*/_jsx(\"p\",{children:post.story}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Supports: \",post.supports]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSupport(post._id),children:\"Support\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNotSupport(post._id),children:\"Not Support\"})]},post._id))})]});};export default PostList;","map":{"version":3,"names":["React","useEffect","useState","getPosts","supportPost","notSupportPost","jsx","_jsx","jsxs","_jsxs","PostList","posts","setPosts","fetchPosts","response","data","error","console","handleSupport","id","map","post","_id","supports","handleNotSupport","children","name","story","onClick"],"sources":["C:/Users/Anurag/Desktop/Project/src/components/PostList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getPosts, supportPost, notSupportPost } from '../api';\r\n\r\nconst PostList = () => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const response = await getPosts();\r\n        setPosts(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching posts:', error);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const handleSupport = async (id) => {\r\n    try {\r\n      await supportPost(id);\r\n      setPosts(posts.map(post => post._id === id ? { ...post, supports: post.supports + 1 } : post));\r\n    } catch (error) {\r\n      console.error('Error supporting post:', error);\r\n    }\r\n  };\r\n\r\n  const handleNotSupport = async (id) => {\r\n    try {\r\n      await notSupportPost(id);\r\n      setPosts(posts.map(post => post._id === id ? { ...post, supports: post.supports - 1 } : post));\r\n    } catch (error) {\r\n      console.error('Error not supporting post:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Posts</h2>\r\n      <ul>\r\n        {posts.map(post => (\r\n          <li key={post._id}>\r\n            <h3>{post.name || 'Anonymous'}</h3>\r\n            <p>{post.story}</p>\r\n            <p>Supports: {post.supports}</p>\r\n            <button onClick={() => handleSupport(post._id)}>Support</button>\r\n            <button onClick={() => handleNotSupport(post._id)}>Not Support</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,CAAEC,WAAW,CAAEC,cAAc,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,QAAQ,CAAC,CAAC,CACjCS,QAAQ,CAACE,QAAQ,CAACC,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAEDH,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,aAAa,CAAG,KAAO,CAAAC,EAAE,EAAK,CAClC,GAAI,CACF,KAAM,CAAAf,WAAW,CAACe,EAAE,CAAC,CACrBP,QAAQ,CAACD,KAAK,CAACS,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKH,EAAE,CAAG,CAAE,GAAGE,IAAI,CAAEE,QAAQ,CAAEF,IAAI,CAACE,QAAQ,CAAG,CAAE,CAAC,CAAGF,IAAI,CAAC,CAAC,CAChG,CAAE,MAAOL,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAQ,gBAAgB,CAAG,KAAO,CAAAL,EAAE,EAAK,CACrC,GAAI,CACF,KAAM,CAAAd,cAAc,CAACc,EAAE,CAAC,CACxBP,QAAQ,CAACD,KAAK,CAACS,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKH,EAAE,CAAG,CAAE,GAAGE,IAAI,CAAEE,QAAQ,CAAEF,IAAI,CAACE,QAAQ,CAAG,CAAE,CAAC,CAAGF,IAAI,CAAC,CAAC,CAChG,CAAE,MAAOL,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,mBACEP,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAAkB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdlB,IAAA,OAAAkB,QAAA,CACGd,KAAK,CAACS,GAAG,CAACC,IAAI,eACbZ,KAAA,OAAAgB,QAAA,eACElB,IAAA,OAAAkB,QAAA,CAAKJ,IAAI,CAACK,IAAI,EAAI,WAAW,CAAK,CAAC,cACnCnB,IAAA,MAAAkB,QAAA,CAAIJ,IAAI,CAACM,KAAK,CAAI,CAAC,cACnBlB,KAAA,MAAAgB,QAAA,EAAG,YAAU,CAACJ,IAAI,CAACE,QAAQ,EAAI,CAAC,cAChChB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMV,aAAa,CAACG,IAAI,CAACC,GAAG,CAAE,CAAAG,QAAA,CAAC,SAAO,CAAQ,CAAC,cAChElB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAMJ,gBAAgB,CAACH,IAAI,CAACC,GAAG,CAAE,CAAAG,QAAA,CAAC,aAAW,CAAQ,CAAC,GALhEJ,IAAI,CAACC,GAMV,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}